# Інсталяція тестового шлюзу безпечного обміну

## Процесс інсталяції

1. [Інсталяція операційної системи](#install-1)
2. [Налаштування мережі](#install-2)
3. [Додавання репозиторія з пакетами СЕВДЕІР](#install-3)

### 1. Інсталяція операційної системи {#install-1}

Тестовий шлюз безпечного обміну функціонує на базі операційної системи Ubuntu Server 16.04.5 x64. Інсталяція операційної системи виконується згідно додатку А цієї інструкції.

### 2. Налаштування мережі {#install-2}

Після інсталяції операційної системи необхідно налаштувати мережеві параметри. Рекомендуємо це зробити для всіх компонентів тестового та промислового середовища, згідно спланованих мережевих адрес.

Налаштування IP-адреси в операційній системі Ubuntu Server 16.04 здійснюється у файлі /etc/network/interfaces:

```bash
sudo nano /etc/network/interfaces
```

Приклад налаштувань для статичної IP-адреси має наступний вигляд:

<pre class="pre-file-1">
    auto ens33
    iface ens33 inet static
    address 192.168.1.100
    netmask 255.255.255.0
    gateway 192.168.1.1
    dns-nameservers 192.168.1.1 8.8.8.8
</pre>

- **ens33** - системне ім’я мережевого адаптеру, що налаштовується. Дізнатися його можна за допомогою команди `dmesg | grep eth`,
- **static** - встановлення статичної IP-адреси. У випадку, якщо ви налаштовуєте прив’язку IP-адреси за DHCP, замість static необхідно встановити dhcp і всі інші параметри не налаштовуються,
- **address** - це IP-адреса, яка буде встановлена для цього мережевого адаптера,
- **netmask** - це маска підмережі,
- **gateway** - це IP-адреса основного шлюза,
- **dns-nameservers** - IP-адреси сервері імен, які використовуватимуться для визначення IP-адрес за dns-іменами вузлів мережі.
  
> Конкретні значення у вашому випадку можуть бути іншими.

Крім цього, **якщо віртуальна машина була клонована з метою пришвидшення процесу інсталяції**, необхідно змінити ім’я вузла у наступних файлах: **/etc/hosts** та **/etc/hostname**.

Також потрібно відключити функції автоматичного оновлення пакетів. для цього відкрити файл /etc/apt/apt.conf.d/10periodic за допомогою команди:

```bash
sudo nano /etc/apt/apt.conf.d/10periodic
```

та встановити параметр APT::Periodic::UpdatePackage-Lists у значення 0:

<pre class="pre-file-1">
    APT::Periodic::Update-Packages-Lists "0";
</pre>

Відкрити файл /etc/update-manager/release-upgrades:

```bash
sudo nano /etc/update-manager/release-upgrades
```

та встановити параметр Prompt у значення never:

<pre class="pre-file-1">
    Prompt=never
</pre>

Після збереження змін у файлах, необхідно перезавантажити операційну систему командою:

```bash
sudo shutdown -r now
```

### 3. Додавання репозиторія з пакетами СЕВДЕІР {#install-3}

Підключіться до консолі (командного інтерфейсу) операційної системи шлюзу безпечного обміну, наприклад, за допомогою наступної команди:

> `ssh <ADMIN_USER>@<Your-security-server-IP>`

- `<ADMIN_USER>` - це логін адміністратора безпеки операційної системи шлюзу безпечного обміну, який створено під час інсталяції операційної системи (згідно додатку А до цієї інструкції),
- `<Your-security-server-IP>` - це IP-адреса шлюзу безпечного обміну.

> **Примітка.** Зверніть увагу, що при введенні паролю (password), символи, що ви вводите, не відображаються на екрані - це нормально.

![Вхід на сервер][logo]

[logo]: assets/images/trembita-test-install-1.png  "Logo Title Text 2"
